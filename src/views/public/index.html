<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分析系統</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/cytoscape@3.24.0/dist/cytoscape.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <script type="module" src="./assets/main.js"></script>
</head>
<body>
    <div id="lightbox" class="lightbox">
        <div id="lightbox-content" class="=lightbox-content" ></div>
    </div>
    <div class="container">
        <!-- 左側邊欄 -->
        <div class="sidebar">
            <h3>搜尋欄</h3>
            
            <!-- 年份選擇區域 -->
            <div class="year-selector">
                <h4>選擇年份</h4>
                <div class="year-buttons">
                    <button class="year-button active" data-year="111">111</button>
                    <button class="year-button" data-year="112">112</button>
                    <button class="year-button" data-year="113">113</button>
                </div>
            </div>

            <!-- 顯示模式選擇區域 -->
            <div class="display-mode-selector">
                <h4>顯示模式</h4>
                <div class="mode-buttons">
                    <button class="mode-button" data-mode="school">學校</button>
                    <button class="mode-button" data-mode="department">系所</button>
                    <button class="mode-button active" data-mode="group">系組</button>
                    <button class="mode-button" data-mode="compare">變化比較</button>
                </div>
            </div>

            <input type="text" class="search-box" placeholder="🔍 搜尋學校或科系..." value="">

            <ul class="university-list" id="universityList">
                <!-- 動態生成的學校科系列表 -->
            </ul>
        </div>

        <!-- 主要內容區域 -->
        <div class="main-content">
            <!-- 選擇的學校顯示區域 -->
            <div class="selected-university">
                <h3 id="selected-title">尚未選擇學校</h3>
                <p id="selected-info" class="no-selection">請從左側列表選擇學校或科系</p>
            </div>

            <div class="change-section" id="changeT">
                <div class="input-label">分析結果(變化)</div>
                <div class="input-area">
                    <table id ="resultTable">
                        <thead>
                            <tr>
                                <th>代號</th>
                                <th id="TYear">年R值</th>
                                <th id="Pyear">年R值</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 第一行圖片 -->
            <div class="image-container medium">
                <div class="image-label" tooltip="你知道的">錄取率(解釋)</div>
                <canvas id="chart-line-1"></canvas>
            </div>
            <div class="image-container medium">
                <div class="image-label" tooltip="R計算：當年度的所有比賽(各校系為選手，以學生的去向為輸贏，採取一般生正取及一般生備取且錄取為有效資料)使用Trueskill來計算	
                
                R含意：在同個群集中，可用此資料來去做排名比較，更好的推斷該科系在此群集的學生熱門程度

                錄取指標計算：登記分發總分數/登記分發總加權倍率
                
                錄取含意：同個群集內的平均分數排名跟R_score排名；如果R排名較低，平均分數較高，可能代表該系所類群被低估，反之亦然
">R-Score & 分發錄取指數(解釋)</div>
                <canvas id="chart-line-2"></canvas>
            </div>

            <!-- 第二行圖片 -->
            <div class="image-container medium">
                <div class="image-label" tooltip="計算方式：名額空缺/預計招生名額	
                
                代表含意：甄選名額流去登分比例越高，會讓登記分發成績下降">甄選名額流去登分比例(解釋)</div>
                <canvas id="chart-line-3"></canvas>
            </div>
            <div class="image-container medium">
                <div class="image-label" tooltip="計算方式：一般生正取錄取人數/一般生正取總人數
                
                代表含意：正取有效性高代表你的正取生很樂意來你的學校，代表你的招生策略有料，也代表該校系在該類群學生之間熱門程度較高；如果正取有效性低，代表招生策略或對學生吸引度不足">正取有效性(解釋)</div>
                <canvas id="chart-line-4"></canvas>
            </div>

            

            <!-- 社群網路圖 -->
            <div id=""class="image-container large">
                <span class="placeholder-text">社群網路圖</span>
                <div id="network-container" style="width:100%; height:100%;"></div>
            </div>

            <!-- AI 輸出區域 -->
            <div class="input-section">
                <div class="input-label">分析結果(AI)</div>
                <div class="input-area" id="AI-input-area"></div>
                <div style="text-align: right; margin-top: 10px; font-size: 12px; color: #666;">
                    以上為AI的整理的結果，請謹慎參考。
                </div>
            </div>
        </div>
    </div>
</body>
</html>